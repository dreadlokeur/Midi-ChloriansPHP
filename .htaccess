#Errors document
ErrorDocument 400 /Midi-ChloriansPHP/index.php?controller=error&action=badRequest
ErrorDocument 401 /Midi-ChloriansPHP/index.php?controller=error&action=unauthorized
ErrorDocument 403 /Midi-ChloriansPHP/index.php?controller=error&action=forbidden
ErrorDocument 404 /Midi-ChloriansPHP/index.php?controller=error&action=notFound
ErrorDocument 404 /Midi-ChloriansPHP/index.php?controller=error&action=notFound
ErrorDocument 405 /Midi-ChloriansPHP/index.php?controller=error&action=methodNotAllowed
ErrorDocument 500 /Midi-ChloriansPHP/index.php?controller=error&action=internalServerError
ErrorDocument 502 /Midi-ChloriansPHP/index.php?controller=error&action=badGateway
ErrorDocument 503 /Midi-ChloriansPHP/index.php?controller=error&action=serviceUnavailable


#Rewrite rules
<IfModule mod_rewrite.c>
RewriteEngine on
Options -Multiviews
Options +FollowSymlinks +SymLinksIfOwnerMatch
RewriteBase /Midi-ChloriansPHP/

# Protect hidden files from being viewed
<Files .*>
	Order Deny,Allow
	Deny From All
</Files>

# Allow any files or directories that exist to be displayed directly
RewriteCond %{REQUEST_FILENAME} !-f
RewriteCond %{REQUEST_FILENAME} !-d

#Controller's rules
RewriteRule ^([A-Za-z0-9_]+)$ index.php?controller=$1  [L,QSA]
RewriteRule ^([A-Za-z0-9_]+)/([A-Za-z0-9_]+)$ index.php?controller=$1&action=$2  [L,QSA]
RewriteRule ^([A-Za-z0-9_]+)/([A-Za-z0-9_]+)/([A-Za-z0-9_]+)$ index.php?controller=$1&action=$2&parameter=$3  [L,QSA]
RewriteRule ^([A-Za-z0-9_]+)/([A-Za-z0-9_]+)/([A-Za-z0-9_]+)/([A-Za-z0-9_]+)$ index.php?controller=$1&action=$2&parameter=$3&parameter2=$4  [L,QSA]
RewriteRule ^([A-Za-z0-9_]+)/([A-Za-z0-9_]+)/([A-Za-z0-9_]+)/([A-Za-z0-9_]+)/([A-Za-z0-9_]+)$ index.php?controller=$1&action=$2&parameter=$3&parameter2=$4&parameter3=$5  [L,QSA]
</IfModule>

# Caching mod_headers + mod_expires
<ifModule mod_expires.c>

# Turn on Expires and set default to now
 ExpiresActive On
 ExpiresDefault "now"
 
 # Set up caching on media files for 1 month
 <FilesMatch "\.(flv|ico|pdf|avi|mov|ppt|doc|mp3|wmv|wav|swf)$">
 ExpiresDefault "access plus 1 month"
 </FilesMatch>
 
 # Set up caching on images, CSS and JS files for 1 week
 <FilesMatch "\.(gif|jpg|jpeg|png|js|css)$">
 ExpiresDefault "access plus 1 day"
 </FilesMatch>
 
 # Set up 1 hour caching on commonly updated files
 <FilesMatch "\.(xml|xsl|html|htm|txt)$">
 ExpiresDefault "access plus 1 hour"
 </FilesMatch>
 
 # Force no caching for dynamic files
 <FilesMatch "\.(php|cgi|pl)$">
 ExpiresActive Off
 </FilesMatch>


</IfModule>


<IfModule mod_headers.c>
 
 # Remote ETag from headers
 Header unset ETag
 
 # Disable ETag for files
 FileETag None
 
 # Media files are catchable
 <FilesMatch "\.(flv|ico|pdf|avi|mov|ppt|doc|mp3|wmv|wav|swf)$">
 Header append Cache-Control "public"
 </FilesMatch>
 
 # Images, css and javascript files are catchable
 <FilesMatch "\.(gif|jpg|jpeg|png|js|css)$">
 Header append Cache-Control "public"
 </FilesMatch>
 
 # Commonly updated files are catchable
 <FilesMatch "\.(xml|html|htm|txt)$">
 Header append Cache-Control "public"
 </FilesMatch>
 
 # Force no caching for dynamic files
 <FilesMatch "\.(php|cgi|pl|htm)$">
 Header set Cache-Control "private, no-cache, no-store, proxy-revalidate, no-transform"
 Header set Pragma "no-cache"
 </FilesMatch>
 
</IfModule>

# Compressing mod_gzip
<IfModule mod_gzip.c>
mod_gzip_on       Yes
mod_gzip_dechunk  Yes
mod_gzip_item_include file      \.(html?|txt|css|js|php|pl)$
mod_gzip_item_include handler   ^cgi-script$
mod_gzip_item_include mime      ^text/.*
mod_gzip_item_include mime      ^application/x-javascript.*
mod_gzip_item_exclude mime      ^image/.*
mod_gzip_item_exclude rspheader ^Content-Encoding:.*gzip.*
</IfModule>